# Amazon Cognito

- 참고영상

  https://www.youtube.com/watch?v=BqgCJzSOT2k



### Cognito User Pool

------

1. 기본 로그인 / 회원가입 UI, 사용자 관리 대시보드 제공
2. 람다, ALB, API Gateway 등 다른 aws 리소스들과 통합 가능
3. 표준 규격 (OAuth2, OIDC, SAML)으로 외부 ID 제공업체와 통합
4. 모바일 앱, 백엔드 서버, SPA 등 클라이언트에 인증 기능 연동



##### OAuth2

- 인가에 초점이 맞춰진 프로토콜 (사실상 표준)

##### OIDC

- OAuth2+인증 레이어
- 인증과 인가를 모두 처리할 수 있는 프로토콜

기술 스택에 구애받지 않고, OAuth2/OIDC를 지원하는 라이브러리가 많이 존재하기 때문에 구현이 쉬움

사용자 풀의 그룹 기능을 이용해서 사용자를 나눠서 관리하고, 각 그룹에 서비스의 권한을 부여할 수 있다. (RBAC) Role-Based Access Control



### 사용자 풀 생성하기

------

**초기 앱 클라이언트**

- 백엔드 서버에서 인증을 처리하는 경우 → 기밀 클라이언트

- SPA, 모바일 앱에서 직접 인증을 처리하는 경우 → 퍼블릭 클라이언트

- 기밀 클라이언트를 사용할 예정이 없다! → 클라이언트 보안키를 생성하지 않는 것이 좋음




**호스팅 인증 페이지**

- cognito에서 제공하는 로그인/회원가입 UI를 사용할 것인가? → 실 서비스에 적용하기에 좀 투박하지만 커스텀 로고와 css파일을 적용해서 어느 정도는 꾸밀 수 있음 → Universal login + OAuth2엔드포인트가 포함된 기능



##### Universal Login

- 독립된 페이지에 로그인과 회원가입을 구현하는 것을 의미 (별도로)
- 어느 곳에서 접속하던 하나의 로그인/회원가입 창에서 인증하는 것을 Universal Login이라 함 (e.g. Google)